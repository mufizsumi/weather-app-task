{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { appId, hostName } from \"../../config/config\";\n\n// get city data\nexport const getCityData = createAsyncThunk(\"city\", async obj => {\n  try {\n    const request = await axios.get(`${hostName}/data/2.5/weather?q=${obj.city}&units=${obj.unit}&APPID=${appId}`);\n    const response = await request.data;\n    return {\n      data: response,\n      error: null\n    };\n  } catch (error) {\n    return {\n      data: null,\n      error: error.response.data.message\n    };\n  }\n});\n\n// get 5 days forecast of the provided city\nexport const get5DaysForecast = createAsyncThunk(\"5days\", async obj => {\n  const request = await axios.get(`${hostName}/data/2.5/forecast?lat=${obj.lat}&lon=${obj.lon}&units=${obj.unit}&APPID=${appId}`);\n  const response = await request.data;\n  return response;\n});\nconst weatherSlice = createSlice({\n  name: \"weather\",\n  initialState: {\n    citySearchLoading: false,\n    citySearchData: null,\n    forecastLoading: false,\n    forecastData: null,\n    forecastError: null\n  },\n  extraReducers: builder => {\n    builder\n    // city search\n    .addCase(getCityData.pending, state => {\n      state.citySearchLoading = true;\n      state.citySearchData = null;\n    }).addCase(getCityData.fulfilled, (state, action) => {\n      state.citySearchLoading = false;\n      state.citySearchData = action.payload;\n    })\n    // forecast\n    .addCase(get5DaysForecast.pending, state => {\n      state.forecastLoading = true;\n      state.forecastData = null;\n      state.forecastError = null;\n    }).addCase(get5DaysForecast.fulfilled, (state, action) => {\n      state.forecastLoading = false;\n      state.forecastData = action.payload;\n      state.forecastError = null;\n    }).addCase(get5DaysForecast.rejected, (state, action) => {\n      state.forecastLoading = false;\n      state.forecastData = null;\n      state.forecastError = action.error.message;\n    });\n  }\n});\nexport default weatherSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","appId","hostName","getCityData","obj","request","get","city","unit","response","data","error","message","get5DaysForecast","lat","lon","weatherSlice","name","initialState","citySearchLoading","citySearchData","forecastLoading","forecastData","forecastError","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["/home/mufiz/Weather-Forecast-App/src/Store/Slices/WeatherSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { appId, hostName } from \"../../config/config\";\n\n// get city data\nexport const getCityData = createAsyncThunk(\"city\", async (obj) => {\n  try {\n    const request = await axios.get(\n      `${hostName}/data/2.5/weather?q=${obj.city}&units=${obj.unit}&APPID=${appId}`\n    );\n    const response = await request.data;\n    return {\n      data: response,\n      error: null,\n    };\n  } catch (error) {\n    return {\n      data: null,\n      error: error.response.data.message,\n    };\n  }\n});\n\n// get 5 days forecast of the provided city\nexport const get5DaysForecast = createAsyncThunk(\"5days\", async (obj) => {\n  const request = await axios.get(\n    `${hostName}/data/2.5/forecast?lat=${obj.lat}&lon=${obj.lon}&units=${obj.unit}&APPID=${appId}`\n  );\n  const response = await request.data;\n  return response;\n});\n\nconst weatherSlice = createSlice({\n  name: \"weather\",\n  initialState: {\n    citySearchLoading: false,\n    citySearchData: null,\n    forecastLoading: false,\n    forecastData: null,\n    forecastError: null,\n  },\n  extraReducers: (builder) => {\n    builder\n      // city search\n      .addCase(getCityData.pending, (state) => {\n        state.citySearchLoading = true;\n        state.citySearchData = null;\n      })\n      .addCase(getCityData.fulfilled, (state, action) => {\n        state.citySearchLoading = false;\n        state.citySearchData = action.payload;\n      })\n      // forecast\n      .addCase(get5DaysForecast.pending, (state) => {\n        state.forecastLoading = true;\n        state.forecastData = null;\n        state.forecastError = null;\n      })\n      .addCase(get5DaysForecast.fulfilled, (state, action) => {\n        state.forecastLoading = false;\n        state.forecastData = action.payload;\n        state.forecastError = null;\n      })\n      .addCase(get5DaysForecast.rejected, (state, action) => {\n        state.forecastLoading = false;\n        state.forecastData = null;\n        state.forecastError = action.error.message;\n      });\n  },\n});\n\nexport default weatherSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}